---
import Countdown from "./Countdown.tsx";
import EventFeatured from "./EventFeatured.astro";
import { getEvents } from "../data";
const events = await getEvents();
// TODO check for futureness
const nextEvent = events[0];
const countdownDate = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000);
---

<div class="flex flex-col gap-12">
  <div
    class="flex flex-wrap justify-center items-center gap-6 bg-base-100 rounded-xl mx-auto py-6 px-8 shadow-lg"
  >
    <div class="text-lg">Next event starts in</div>
    <Countdown client:load targetDate={countdownDate} />
  </div>
  <EventFeatured slug={nextEvent.data.id} />
</div>
