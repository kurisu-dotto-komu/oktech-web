---
import { getEvents } from "../../data";
import EventsPage from "../../components/EventsPage.astro";
import EventPage from "../../components/EventPage.astro";

export async function getStaticPaths() {
  const events = await getEvents();
  return [...events.map((event) => event.id), "gallery", undefined].map((slug) => ({
    params: { slug },
  }));
}

const { slug } = Astro.params;
---

{!slug || slug === "gallery" ? <EventsPage /> : <EventPage />}
