# Rules Synchronization Prompt

You are tasked with ensuring `.cursor/rules` files match and properly expand upon the rules in `CLAUDE.md`. This is a one-way synchronization where CLAUDE.md is the source of truth. Follow these specific instructions:

## Overview

- **CLAUDE.md**: The authoritative source of truth for all project rules - **DO NOT EDIT THIS FILE**
- **Cursor Rules**: Should be split into specific, granular rules files in `.cursor/rules/` directory that match and expand upon the rules in CLAUDE.md

## Synchronization Process

### 1. First, Analyze Current State

- Read the current `CLAUDE.md` file (the authoritative source)
- Read all existing `.cursor/rules/*.mdc` files
- Compare cursor rules against CLAUDE.md to identify what needs to be updated or added

### 2. Rule Organization Strategy

#### For .cursor/rules/ (Granular Approach):

- Split rules from CLAUDE.md into logical categories/files such as:
  - `astro-components.mdc` - Astro-specific syntax and patterns
  - `react-patterns.mdc` - React component patterns when needed
  - `file-management.mdc` - File creation, editing, and organization rules
  - `code-quality.mdc` - Code standards, linting, error handling
  - `project-structure.mdc` - Directory structure and naming conventions
- Each file should contain detailed, specific rules for that domain based on CLAUDE.md
- Expand upon CLAUDE.md rules with examples and anti-patterns where helpful
- Ensure all rules ultimately derive from and align with CLAUDE.md

### 3. Change Detection Rules

**CRITICAL**: Only make changes to cursor rules when they don't properly reflect or expand upon CLAUDE.md.

#### Don't Change Cursor Rules If:

- They already accurately represent the corresponding CLAUDE.md rule
- The meaning is the same but wording is different (unless clarity is improved)
- Examples are different but still correctly illustrate the CLAUDE.md principle
- The cursor rule is a valid expansion of the CLAUDE.md rule

#### Do Change Cursor Rules If:

- They contradict or misrepresent a rule from CLAUDE.md
- CLAUDE.md has new rules not reflected in cursor rules
- Cursor rules are missing important context from CLAUDE.md
- Cursor rules don't properly expand upon CLAUDE.md principles

### 4. Execution Steps

1. **Read Source**: Read and understand all rules in `CLAUDE.md` (the authoritative source)
2. **Compare**: Systematically compare each cursor rule against its corresponding CLAUDE.md rule
3. **Identify Gaps**: List cursor rules that don't properly reflect or expand upon CLAUDE.md
4. **Plan Changes**: Determine minimal necessary changes to cursor rules only
5. **Implement**: Update cursor rules to properly align with and expand upon CLAUDE.md
6. **Verify**: Confirm cursor rules accurately represent and enhance CLAUDE.md rules

### 5. Quality Checklist

Before making any changes to cursor rules, verify:

- [ ] Do the cursor rules accurately reflect the corresponding CLAUDE.md rules?
- [ ] Are you only changing cursor rules that genuinely don't align with CLAUDE.md?
- [ ] Will these changes provide genuine value to developers using Cursor?
- [ ] Are you preserving the granular, detailed nature of cursor rules while staying aligned with CLAUDE.md?
- [ ] Are you avoiding unnecessary commits from minor text tweaks?
- [ ] Have you confirmed that CLAUDE.md remains untouched?

## Expected Outcome

- `CLAUDE.md` remains unchanged as the authoritative source of project rules
- `.cursor/rules/` contains detailed, categorized rules that accurately reflect and expand upon CLAUDE.md
- Cursor rules provide granular, context-specific guidance while staying aligned with CLAUDE.md principles
- No redundant commits from unnecessary changes
- Rules are accurate, actionable, and properly synchronized in one direction (CLAUDE.md â†’ cursor rules)
